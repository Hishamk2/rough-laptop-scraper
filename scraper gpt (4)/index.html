<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Promotion Plans</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css" integrity="sha384-xOolHFLEh07PJGoPkLv1IbcEPTNtaed2xpHsD9ESMhqIYd0nLMwNLD69Npy4HI+N" crossorigin="anonymous">
    <style>body {
        background-color: #333333;
        color: white;
    }
    
    .table {
        background-color: #333333;
        color: white;
    }
    
    .table th {
        background-color: #444444;
        color: white;
        position: relative;
    }
    
    .table th span {
        position: absolute;
        right: 10px;
        display: inline-block;
        width: 0;
        height: 0;
        border-left: 5px solid transparent;
        border-right: 5px solid transparent;
    }
    
    .table th.asc span {
        border-bottom: 5px solid white;
    }
    
    .table th.desc span {
        border-top: 5px solid white;
    }
    
    .table td {
        background-color: #333333;
    }
    
    .btn-custom {
        background-color: #ff5050;
        color: white;
        border-radius: 5px;
        padding: 10px 20px;
    }
    
    .btn-custom:hover {
        background-color: #ff7e7e;
    }
    
    h1 {
        text-align: center;
        margin-top: 30px;
        margin-bottom: 20px;
    }
    
    .discount-type, .original-price {
        font-style: italic;
    }
    
    .cpu {
        font-family: Arial, Helvetica, sans-serif;
        color: white;
    }
    
    tbody tr.dell-laptop td {
        background-color: #0672cb;
    }
    
    tbody tr.acer-laptop td {
        background-color: #4e8a16;
    }
    
    .nested-table {
        width: 100%;
        border-collapse: collapse;
        border: none;
    }
    
    .nested-table tr {
        border-bottom: 1px solid white;
    }
    
    .nested-table td, .nested-table th {
        border: none;
        padding: 0;
        width: 100%;
    }
    
    .nested-table tr:last-child {
        border-bottom: none;
    }
    
    .nested-table td:first-child, .nested-table td:last-child, .nested-table th:first-child, .nested-table th:last-child {
        border-left: none;
        border-right: none;
    }
    
    .name {
        font-size: 1.2em;
        font-weight: bold;
    }
    
    .feature-card {
        margin: 3px;
        padding: 3px;
        border-radius: 10px;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.25);
    }
    
    .final-price {
        color: #ffc107;
        font-weight: bold;
    }
    
    .clickable {
        cursor: pointer;
    }
    
    .feature-card-link {
        margin: 3px;
        padding: 3px;
        border-radius: 10px;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.25);
        display: flex;
        justify-content: center; /* Center the button horizontally */
        align-items: center; /* Center the button vertically */
    }
    
    .link-button-acer {
        /* background-color: #ff5050; */
        background-color: #FFA500;
        color: white;
        border-radius: 5px;
        padding: 5px 10px;
        text-decoration: none;
        display: inline-block;
        text-align: center;
        font-size: 0.7em; /* Make the button text smaller */
    }

    .link-button-dell {
        background-color: #FFA500;
        color: white;
        border-radius: 5px;
        padding: 5px 10px;
        text-decoration: none;
        display: inline-block;
        text-align: center;
        font-size: 0.7em; /* Make the button text smaller */
    }

    .acer-text {
        color: white;
        text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);
    }

    .dell-text {
        color: white;
        text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);
    }

    .abc
    {
        color: white;
    }

    </style>
</head>
<body>
    <h1>Promotion Plans</h1>

    <div class="container">
        <table class="table table-bordered table-striped table-responsive-sm">
            <thead>
                <tr>
                    <th scope="col">Laptop Name</th>
                    <th scope="col">
                        <table class="nested-table clickable" onclick="sortTable()">
                            <tr><th>Original Price</th></tr>
                            <tr><th>Discount Type</th></tr>
                            <tr><th>Final Price <span></span></th></tr>
                        </table>
                    </th>
                    <th scope="col">CPU</th>
                    <th scope="col">GPU</th>
                    <th scope="col">RAM</th>
                    <th scope="col">Storage</th>
                </tr>
            </thead>
            <tbody id="laptop-table-body">
                <!-- JavaScript will inject rows here -->
            </tbody>
        </table>
    </div>

    <script>
        const laptops = [
            {
                name: "Chromebook 3110 2-in-1",
                originalPrice: "N/A",
                discountType: "N/A",
                finalPrice: "549.00",
                cpu: "Intel Celeron N4500",
                gpu: "N/A",
                ram: "4 GB LPDDR4",
                storage: "64 GB eMMC",
                class: "dell-laptop"
            },
            {
                name: "Acer Chromebook 311 - CB311-9H-C6QW",
                originalPrice: "N/A",
                discountType: "N/A",
                finalPrice: "199.99",
                cpu: "Intel Celeron N4020 processor",
                gpu: "Intel UHD Graphics 600",
                ram: "4 GB standard memory",
                storage: "32 GB Flash storage; SD Card reader",
                class: "acer-laptop"
            },
            {
                name: "Aspire 1 Laptop - A115-32-C7ZW",
                originalPrice: "399.99",
                discountType: "-25.00%",
                finalPrice: "299.99",
                cpu: "Intel Celeron N4500 processor Dual-core 1.10 GHz",
                gpu: "Intel UHD Graphics shared memory",
                ram: "4 GB, DDR4 SDRAM",
                storage: "64 GB Flash Memory",
                class: "acer-laptop"
            },
            {
                name: "Inspiron 15 Laptop",
                originalPrice: "N/A",
                discountType: "N/A",
                finalPrice: "549.99",
                cpu: "12th Gen Intel Core i3-1215U",
                gpu: "Intel UHD Graphics",
                ram: "8 GB DDR4",
                storage: "512 GB SSD",
                class: "dell-laptop"
            },
            {
                name: "Acer Chromebook 315 - CB315-3H-C7LJ",
                originalPrice: "N/A",
                discountType: "N/A",
                finalPrice: "349.99",
                cpu: "Intel Celeron N4020 processor",
                gpu: "Intel UHD Graphics 600",
                ram: "8 GB standard memory",
                storage: "64 GB Flash memory",
                class: "acer-laptop"
            },
            {
                name: "Chromebook 3120",
                originalPrice: "N/A",
                discountType: "N/A",
                finalPrice: "559.00",
                cpu: "Intel",
                gpu: "N/A",
                ram: "4 GB LPDDR5",
                storage: "64 GB eMMC",
                class: "dell-laptop"
            }
        ];

        let sortDirection = 'asc';
        const tableBody = document.getElementById("laptop-table-body");

        function createRow(laptop) {
            // const visitButton = laptop.class.includes('dell-laptop')
            //     ? '<a class="link-button-dell" href="#"><span class="dell-text">Visit Dell</span></a>'
            //     : '<a class="link-button-acer" href="#"><span class="acer-text">Visit Acer</span></a>';
            //<div class="feature-card-link">${visitButton}</div> wouild go beneath the name

            return `
                <tr class="${laptop.class}">
                    <td class="name">
                        <div class="feature-card"><a class="abc" href="#">${laptop.name}</a></div>
                        
                    </td>
                    <td class="price">
                        <table class="nested-table">
                            <tr><td class="original-price"><div class="feature-card">${laptop.originalPrice}</div></td></tr>
                            <tr><td class="discount-type"><div class="feature-card">${laptop.discountType}</div></td></tr>
                            <tr><td class="final-price"><div class="feature-card">${laptop.finalPrice}</div></td></tr>
                        </table>
                    </td>
                    <td class="cpu"><div class="feature-card">${laptop.cpu}</div></td>
                    <td class="gpu"><div class="feature-card">${laptop.gpu}</div></td>
                    <td class="ram"><div class="feature-card">${laptop.ram}</div></td>
                    <td class="storage"><div class="feature-card">${laptop.storage}</div></td>
                </tr>
            `;
        }


        function sortTable() {
            sortDirection = sortDirection === 'asc' ? 'desc' : 'asc';

            laptops.sort((a, b) => {
                let valA = parseFloat(a.finalPrice.replace(/[^0-9.-]+/g, ""));
                let valB = parseFloat(b.finalPrice.replace(/[^0-9.-]+/g, ""));

                if (valA < valB) {
                    return sortDirection === 'asc' ? -1 : 1;
                }
                if (valA > valB) {
                    return sortDirection === 'asc' ? 1 : -1;
                }
                return 0;
            });

            tableBody.innerHTML = laptops.map(createRow).join('');
            updateArrows(sortDirection);
        }

        function updateArrows(direction) {
            const thElements = document.querySelectorAll('.nested-table th');
            thElements.forEach(th => {
                th.classList.remove('asc', 'desc');
                if (th.classList.contains('clickable')) {
                    th.classList.add(direction);
                }
            });
        }

        document.addEventListener('DOMContentLoaded', () => {
            tableBody.innerHTML = laptops.map(createRow).join('');
        });
    </script>

    <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp+G7niu735Sk7lN" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.min.js" integrity="sha384-+sLIOodY5n7TzQ2hT0wZB+cSHGb+ok0dQ8IrfGsUa9RaRWjF+i8/W2MyF1k8Q==" crossorigin="anonymous"></script>
</body>
</html>
